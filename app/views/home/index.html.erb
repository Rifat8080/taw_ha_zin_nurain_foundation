<% content_for :title, "Welcome to Taw Ha Zin Nurain Foundation" %>

<!-- Hero Section -->
<div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
    <div class="text-center">
      <h1 class="text-4xl md:text-6xl font-bold mb-6">
        Taw Ha Zin Nurain Foundation
      </h1>
      <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">
        Building stronger communities through events, volunteer work, and charitable initiatives.
      </p>
      <%= link_to "View Events", events_path, 
          class: "inline-flex items-center px-8 py-3 border border-transparent text-lg font-medium rounded-md text-blue-600 bg-white hover:bg-gray-50 transition duration-300" %>
    </div>
  </div>
</div>

<!-- Quick Actions -->
<div class="py-12 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      
      <!-- Login/Account Section -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <% if user_signed_in? %>
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Welcome back, <%= current_user.first_name %>!</h3>
          <p class="text-gray-600 mb-6">Manage your tickets and account.</p>
          <div class="space-y-3">
            <%= link_to "My Tickets", tickets_path, 
                class: "block w-full text-center py-2 px-4 border border-blue-300 rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100 transition duration-200" %>
            <%= link_to "View All Events", events_path, 
                class: "block w-full text-center py-2 px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 transition duration-200" %>
            <%= link_to "Logout", destroy_user_session_path, method: :delete, 
                class: "block w-full text-center py-2 px-4 border border-red-300 rounded-md text-red-700 bg-red-50 hover:bg-red-100 transition duration-200" %>
          </div>
        <% else %>
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Account Access</h3>
          
                    <!-- Quick Login Form -->
          <%= form_with url: user_session_path, local: true, class: "space-y-4" do |form| %>
            <div>
              <%= form.label :email, "Email", class: "block text-sm font-medium text-gray-700" %>
              <%= form.email_field :email, 
                  placeholder: "Enter your email", 
                  class: "mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
            </div>
            
            <div>
              <%= form.label :password, "Password", class: "block text-sm font-medium text-gray-700" %>
              <%= form.password_field :password, 
                  placeholder: "Enter your password", 
                  class: "mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500" %>
            </div>
            
            <%= form.submit "Login", 
                class: "w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" %>
          <% end %>
          
          <div class="mt-4 text-center">
            <p class="text-sm text-gray-600">
              Don't have an account? 
              <%= link_to "Sign up here", new_user_registration_path, class: "text-blue-600 hover:text-blue-500" %>
            </p>
            <p class="text-sm text-gray-600 mt-2">
              <%= link_to "Forgot your password?", new_user_password_path, class: "text-blue-600 hover:text-blue-500" %>
            </p>
          </div>
        <% end %>
      </div>
      
      <!-- Events Section -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-xl font-semibold text-gray-900 mb-4">Upcoming Events</h3>
        <% if @upcoming_events.present? %>
          <div class="space-y-3">
            <% @upcoming_events.each do |event| %>
              <div class="border border-gray-200 rounded-lg p-3">
                <h4 class="font-medium text-gray-900"><%= event.name %></h4>
                <p class="text-sm text-gray-600"><%= event.start_date.strftime("%B %d, %Y") %></p>
                <p class="text-sm text-gray-500"><%= truncate(event.guest_description, length: 60) %></p>
                <%= link_to "View Details", event, class: "text-blue-600 hover:text-blue-500 text-sm" %>
              </div>
            <% end %>
          </div>
          <div class="mt-4">
            <%= link_to "View All Events", events_path, 
                class: "block w-full text-center py-2 px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 transition duration-200" %>
          </div>
        <% else %>
          <p class="text-gray-500 mb-4">No upcoming events at the moment.</p>
          <%= link_to "View All Events", events_path, 
              class: "block w-full text-center py-2 px-4 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 transition duration-200" %>
        <% end %>
      </div>

      <!-- Donation Section -->
      <div class="bg-white rounded-lg shadow-md p-6">
        <h3 class="text-xl font-semibold text-gray-900 mb-4">
          <svg class="w-6 h-6 inline mr-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
          </svg>
          Make a Donation
        </h3>
        <p class="text-gray-600 mb-4">Support our community initiatives and projects.</p>
        
        <%= render 'donations/donation_form', 
            donation: @donation, 
            projects: @projects, 
            submit_text: 'Donate Now' %>
      </div>
      
    </div>
  </div>
</div>

<!-- Features Section -->
<div class="py-16 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-gray-900 mb-4">What We Offer</h2>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto">
        Join our community and participate in meaningful events and volunteer opportunities.
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="text-center">
        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Event Management</h3>
        <p class="text-gray-600">Digital tickets with QR codes for seamless event check-ins and management.</p>
      </div>
      
      <div class="text-center">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.196-2.121M9 20h8v-2a3 3 0 00-5.196-2.121m1.196 2.121A6.002 6.002 0 003 15a6.002 6.002 0 006 7.28M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Volunteer Programs</h3>
        <p class="text-gray-600">Connect with volunteer opportunities and make a difference in your community.</p>
      </div>
      
      <div class="text-center">
        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Community Impact</h3>
        <p class="text-gray-600">Track donations, expenses, and the positive impact we're making together.</p>
      </div>
    </div>
  </div>
</div>

<%= render 'shared/donor_info_modal' %>
