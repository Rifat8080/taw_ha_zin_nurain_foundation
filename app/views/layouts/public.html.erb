<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Taw Ha Zin Nurain Foundation" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    
    <!-- Performance-optimized font loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Preload critical font weights -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"></noscript>

    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "navigation", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "fonts", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- Swiper CSS for donation carousel -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <%= stylesheet_link_tag 'home_index', media: 'all', 'data-turbo-track': 'reload' %>
  </head>

  <body class="bg-gray-50 font-sans">
    <!-- Flowbite Navigation -->
    <nav class="bg-white dark:bg-gray-900 fixed w-full z-50 top-0 start-0 border-b border-gray-200 dark:border-gray-600">
      <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
        <%= link_to root_path, class: "flex items-center space-x-3 rtl:space-x-reverse" do %>
          <%= image_tag "Foundation_Logo_Side.png", class: "h-10 sm:h-12 md:h-10 lg:h-12 w-auto", alt: "Taw Ha Zin Nurain Foundation Logo" %>
        <% end %>
        
        <div class="flex lg:order-2 items-center space-x-3 lg:space-x-0 rtl:space-x-reverse">

          <%= link_to new_user_session_path, class: "flex items-center justify-center rounded-lg bg-white shadow hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition text-gray-600 mr-2 border border-gray-200 px-4 py-2 text-sm h-10" do %>
            <i class="fa-solid fa-user text-xl"></i>
          <% end %>
          <%= link_to "Donate", donations_path, class: "ml-2 text-white bg-foundationprimarygreen hover:bg-foundationprimarygreen/90 focus:ring-4 focus:outline-none focus:ring-foundationprimarygreen/50 font-medium rounded-lg text-sm px-4 py-2 text-center transition-all duration-200 ease-in-out" %>
          <button data-drawer-target="logo-sidebar" data-drawer-toggle="logo-sidebar" aria-controls="logo-sidebar" type="button" class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
            <span class="sr-only">Open sidebar</span>
            <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path clip-rule="evenodd" fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"></path>
            </svg>
          </button>
        </div>
        
        
        <div class="items-center justify-between hidden w-full lg:flex lg:w-auto lg:order-1" id="navbar-sticky">
          <ul class="flex flex-col p-4 lg:p-0 mt-4 font-medium lg:flex-row lg:mt-0 lg:border-0 lg:bg-transparent lg:gap-8 dark:bg-gray-800 lg:dark:bg-transparent">
            <li>
              <%= link_to "Home", root_path, class: nav_link_class(root_path) %>
            <li>
              <%= link_to "About", about_path, class: nav_link_class_static %>
            </li>
            <li>
              <%= link_to "Gallery", gallery_path, class: nav_link_class(gallery_path) %>
            </li>
            <li>
              <%= link_to "Blog", blogs_path, class: nav_link_class(blogs_path) %>
            </li>
            <li>
              <%= link_to "Projects", projects_path, class: nav_link_class(projects_path) %>
            </li>
            <li>
              <%= link_to "Healthcare", healthcare_requests_path, class: nav_link_class(healthcare_requests_path) %>
            </li>
            <li>
              <%= link_to "Events", events_path, class: nav_link_class(events_path) %>
            </li>
            <li>
              <%= link_to "Contact", contact_path, class:  nav_link_class(contact_path) %>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Sidebar -->
    <aside id="logo-sidebar" class="fixed top-0 left-0 z-40 w-64 h-full transition-transform -translate-x-full md:translate-x-0 lg:hidden" aria-label="Sidebar">
      <div class="h-full px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800">
        <%= link_to root_path, class: "flex items-center ps-2.5 mb-5" do %>
          <%= image_tag "Foundation_Logo_Side.png", class: "h-6 me-3 sm:h-7", alt: "Taw Ha Zin Nurain Foundation Logo" %>
        <% end %>
        <ul class="space-y-2 font-medium">
          <li>
            <%= link_to root_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-house w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="ms-3">Home</span>
            <% end %>
          </li>
          <li>
            <%= link_to projects_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-table-cells-large w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="flex-1 ms-3 whitespace-nowrap">Projects</span>
            <% end %>
          </li>
          <li>
            <%= link_to healthcare_requests_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-hand-holding-medical w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="flex-1 ms-3 whitespace-nowrap">Healthcare</span>
            <% end %>
          </li>
          <li>
            <%= link_to events_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-calendar-days w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="flex-1 ms-3 whitespace-nowrap">Events</span>
            <% end %>
          </li>
          <li>
            <%= link_to about_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-circle-info w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="flex-1 ms-3 whitespace-nowrap">About</span>
            <% end %>
          </li>
          <li>
            <%= link_to gallery_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-image w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="flex-1 ms-3 whitespace-nowrap">Gallery</span>
            <% end %>
          </li>
          <li>
            <%= link_to blogs_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-blog w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="flex-1 ms-3 whitespace-nowrap">Blog</span>
            <% end %>
          </li>
          <li>
            <%= link_to contact_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <i class="fa-solid fa-envelope w-5 h-5 text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"></i>
              <span class="flex-1 ms-3 whitespace-nowrap">Contact</span>
            <% end %>
          </li>
         
          <li>
            <%= link_to new_user_session_path, class: "flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group" do %>
              <svg class="shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 16">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 8h11m0 0L8 4m4 4-4 4m4-11h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3"/>
              </svg>
              <span class="flex-1 ms-3 whitespace-nowrap">Login</span>
            <% end %>
          </li>
        </ul>
      </div>
    </aside>

    <!-- Flash Messages -->

    <% if flash[:notice] %>
      <div class="fixed top-20 left-0 w-full z-50 flex justify-center">
        <div id="alert-notice" class="flex items-center p-4 mb-4 text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 shadow-lg max-w-xl w-full mx-4" role="alert">
          <svg class="shrink-0 w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
          </svg>
          <span class="sr-only">Info</span>
          <div class="ms-3 text-sm font-medium">
            <%= flash[:notice] %>
          </div>
          <button type="button" class="ms-auto -mx-1.5 -my-1.5 bg-green-50 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex items-center justify-center h-8 w-8 dark:bg-gray-800 dark:text-green-400 dark:hover:bg-gray-700" data-dismiss-target="#alert-notice" aria-label="Close" onclick="this.closest('[role=alert]').style.display='none'">
            <span class="sr-only">Close</span>
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
            </svg>
          </button>
        </div>
      </div>
    <% end %>

    <% if flash[:alert] %>
      <div class="fixed top-20 left-0 w-full z-50 flex justify-center">
        <div id="alert-alert" class="flex items-center p-4 mb-4 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 shadow-lg max-w-xl w-full mx-4" role="alert">
          <svg class="shrink-0 w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
          </svg>
          <span class="sr-only">Info</span>
          <div class="ms-3 text-sm font-medium">
            <%= flash[:alert] %>
          </div>
          <button type="button" class="ms-auto -mx-1.5 -my-1.5 bg-red-50 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 inline-flex items-center justify-center h-8 w-8 dark:bg-gray-800 dark:text-red-400 dark:hover:bg-gray-700" data-dismiss-target="#alert-alert" aria-label="Close" onclick="this.closest('[role=alert]').style.display='none'">
            <span class="sr-only">Close</span>
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
            </svg>
          </button>
        </div>
      </div>
    <% end %>

    <!-- Main Content -->
    <main class="pt-18 xl:pt-20 ">
    <%= yield %>

  <!-- Swiper JS for donation carousel -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    </main>

    <!-- Footer -->
    <footer class="bg-foundationprimarygreen text-white">
      <div class="relative overflow-hidden">
        <!-- Islamic geometric SVG background -->
        <div class="absolute inset-0 pointer-events-none z-0 opacity-30">
          <svg width="100%" height="100%" viewBox="0 0 1440 320" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
            <defs>
              <linearGradient id="footerGradient" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%" stop-color="var(--forange, #F7B731)"/>
                <stop offset="100%" stop-color="var(--foundationprimarygreen, #22C55E)"/>
              </linearGradient>
              <pattern id="islamicPattern" width="80" height="80" patternUnits="userSpaceOnUse">
                <circle cx="40" cy="40" r="36" fill="none" stroke="#fff" stroke-width="2" opacity="0.08"/>
                <polygon points="40,8 72,40 40,72 8,40" fill="none" stroke="#fff" stroke-width="1.5" opacity="0.10"/>
              </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#footerGradient)"/>
            <rect width="100%" height="100%" fill="url(#islamicPattern)"/>
          </svg>
        </div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 relative z-10">
          <div class="flex flex-col md:flex-row md:justify-between md:items-start gap-12">
            <!-- Brand & Mission -->
            <div class="flex-1 min-w-[220px] mb-8 md:mb-0">
              <div class="flex items-center space-x-3 mb-4">
                <%= image_tag "Foundation_Logo_Side.png", class: "h-16 w-auto rounded shadow-lg bg-white p-1 border-4 border-forange" %>
              </div>
              <p class="text-white/90 mb-4 text-base max-w-md leading-relaxed">
                <span class="text-forange font-semibold">“And whoever saves one [life] – it is as if he had saved mankind entirely.” Surah Al-Ma’idah (5:32)</span>
                <br class="hidden md:block"/>
                <span class="text-white/80">Empowering lives through <span class="text-forange font-semibold">education</span>, <span class="text-forange font-semibold">healthcare</span>, and <span class="text-forange font-semibold">community development</span> with integrity and compassion.</span>
              </p>
              <div class="flex space-x-4 mt-4">
                <a href="#" aria-label="Facebook" class="text-white hover:text-blue-500 transition-colors">
                  <i class="fab fa-facebook-f text-xl"></i>
                </a>
                <a href="#" aria-label="Twitter" class="text-white hover:text-blue-400 transition-colors">
                  <i class="fab fa-twitter text-xl"></i>
                </a>
                <a href="#" aria-label="YouTube" class="text-white hover:text-red-500 transition-colors">
                  <i class="fab fa-youtube text-xl"></i>
                </a>
                <a href="#" aria-label="Instagram" class="text-white hover:text-pink-500 transition-colors">
                  <i class="fab fa-instagram text-xl"></i>
                </a>
              </div>
            </div>

            <!-- Quick Links -->
            <div class="flex-1 min-w-[180px] mb-8 md:mb-0">
              <h3 class="text-lg font-bold mb-4 text-forange tracking-wide">Quick Links</h3>
              <ul class="space-y-2 text-base text-white/90">
                <li><%= link_to "About Us", about_path, class: "hover:text-forange transition-colors" %></li>
                <li><%= link_to "Our Projects", projects_path, class: "hover:text-forange transition-colors" %></li>
                <li><%= link_to "Healthcare", healthcare_requests_path, class: "hover:text-forange transition-colors" %></li>
                <li><%= link_to "Events", events_path, class: "hover:text-forange transition-colors" %></li>
                <li><%= link_to "Contact", contact_path, class: "hover:text-forange transition-colors" %></li>
              </ul>
            </div>

            <!-- Contact & Newsletter -->
            <div class="flex-1 min-w-[220px]">
              <h3 class="text-lg font-bold mb-4 text-forange tracking-wide">Contact</h3>
              <ul class="space-y-2 text-base text-white/90 mb-6">
                <li><i class="fas fa-envelope mr-2 text-forange"></i> info@tawhazin.org</li>
                <li><i class="fas fa-phone mr-2 text-forange"></i> +880 1234 567890</li>
                <li><i class="fas fa-map-marker-alt mr-2 text-forange"></i> Dhaka, Bangladesh</li>
              </ul>
              <form class="flex flex-col sm:flex-row gap-2" action="#" method="post" autocomplete="off">
                <input type="email" name="newsletter_email" placeholder="Subscribe to our newsletter" class="rounded-lg px-4 py-2 w-full sm:w-auto flex-1 bg-white/80 text-foundationprimarygreen border border-forange focus:outline-none focus:ring-2 focus:ring-forange placeholder:text-foundationprimarygreen/60" required>
                <button type="submit" class="px-5 py-2 rounded-lg bg-forange text-white font-semibold hover:bg-yellow-500 transition-colors shadow">Subscribe</button>
              </form>
            </div>
          </div>
          <div class="border-t border-white/20 mt-12 pt-8 flex flex-col md:flex-row items-center justify-between text-white/70 text-sm gap-4">
            <div>
              &copy; <%= Date.current.year %> Taw Ha Zin Nurain Foundation. All rights reserved.
            </div>
            <div class="flex gap-4">
              <a href="#" class="hover:text-forange transition-colors">Privacy Policy</a>
              <a href="#" class="hover:text-forange transition-colors">Terms of Service</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
